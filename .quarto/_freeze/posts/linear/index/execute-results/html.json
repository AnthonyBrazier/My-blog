{
  "hash": "083d1c198dbee9fe102d01ccf013215b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Atividade 3 - Regressão Linear\"\nauthor: \"Anthony Brazier Leite\"\ndate: \"2025-11-23\"\ncategories: [LINEAR, PYTHON, CODE, GRÁFICO]\nimage: \"grafico.png\"\njupyter: python3\n---\n\nNeste Post eu mostro uma forma em *python* para calcular a regressão linar de x e y.\n\nimport os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom plotnine import ggplot, aes, geom_point, geom_abline, ggsave\nfrom IPython.display import Image, display\n\n# Caminhos dos arquivos\nX_path = \"/mnt/data/X.txt\"\ny_path = \"/mnt/data/y.txt\"\n\nprint(\"CWD:\", os.getcwd())\nprint(\"X.txt exists:\", os.path.exists(X_path))\nprint(\"y.txt exists:\", os.path.exists(y_path))\n\n# Leitura dos dados \nif os.path.exists(X_path) and os.path.exists(y_path):\n\n   \n    X_path = os.path.join(os.getcwd(), 'X.txt')\n    y_path = os.path.join(os.getcwd(), 'y.txt')\n\n    print('CWD:', os.getcwd())\n    print('X.txt exists:', os.path.exists(X_path))\n    print('y.txt exists:', os.path.exists(y_path))\n\n    # Carregar dados \n    \n    if os.path.exists(X_path) and os.path.exists(y_path):\n        X = np.loadtxt(X_path)\n        y = np.loadtxt(y_path)\n    else:\n        print('Arquivos não encontrados — usando valores constantes fornecidos.')\n        X = np.full(50, 4.6317925681770316)\n        y = np.full_like(X, 12439.153947498304)\n\n    X = np.asarray(X).ravel()\n    y = np.asarray(y).ravel()\n\n    print('shapes:', X.shape, y.shape)\n\n    # Estima regressão\n\n    if np.isclose(np.var(X), 0):\n        intercepto = float(np.mean(y))\n        inclinacao = 0.0\n    else:\n        X_mat = np.vstack([np.ones_like(X), X]).T\n        beta = np.linalg.lstsq(X_mat, y, rcond=None)[0]\n        intercepto, inclinacao = float(beta[0]), float(beta[1])\n\n    # Plot com matplotlib\n\n    df = pd.DataFrame({'x': X, 'y': y})\n    fig, ax = plt.subplots(figsize=(8, 4.5))\n    ax.scatter(df['x'], df['y'], color='tab:blue', label='Dados')\n    x_line = np.linspace(df['x'].min(), df['x'].max(), 200)\n    ax.plot(x_line, intercepto + inclinacao * x_line, color='red', label='Ajuste linear')\n    ax.set_xlabel('x')\n    ax.set_ylabel('y')\n    ax.legend()\n    fig.tight_layout()\n    fig.savefig('grafico_regressao.png', dpi=150)\n    display(Image('grafico_regressao.png'))\n\n    print(f'Intercepto: {intercepto:.4f}')\n    print(f'Inclinação: {inclinacao:.4f}')\n    ```\n![Gráfico de regressão](grafico.png)\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}